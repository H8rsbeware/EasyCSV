<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>EasyCSV</title>

		<link rel="stylesheet" href="../static/global_theme.css" />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,400,0,0&display=swap"
		/>
		<link rel="stylesheet" href="../static/titlebar.css" />
		<link rel="stylesheet" href="../static/sidebar.css" />
		<link rel="stylesheet" href="../static/tabbar.css" />
		<link rel="stylesheet" href="../static/content.css" />
	</head>

	<body>
		<div id="titlebar">
			<div class="titlebar-left">
				<div class="app-icon"><img src="../static/src/ez.svg" /></div>
				<div class="app-title">EasyCSV</div>

				<div class="menubar" id="menubar">
					<div class="menubar__item" data-menu="file">File</div>
					<div class="menubar__item" data-menu="edit">Edit</div>
					<div class="menubar__item" data-menu="view">View</div>
					<div class="menubar__item" data-menu="tools">Tools</div>
				</div>
			</div>

			<div class="titlebar-right">
				<button
					id="toggle-theme"
					class="titlebar-btn titlebar-btn--theme"
					title="Toggle theme"
				>
					<span class="titlebar-theme__thumb" aria-hidden="true">
						<span
							class="material-symbols-rounded titlebar-theme__icon titlebar-theme__icon--sun"
							>light_mode</span
						>
						<span
							class="material-symbols-rounded titlebar-theme__icon titlebar-theme__icon--moon"
							>dark_mode</span
						>
					</span>
				</button>

				<div id="window-controls" class="window-controls">
					<button
						id="min-btn"
						class="titlebar-btn"
						aria-label="Minimize"
					>
						—
					</button>
					<button
						id="max-btn"
						class="titlebar-btn"
						aria-label="Maximize"
					>
						□
					</button>
					<button
						id="close-btn"
						class="titlebar-btn titlebar-btn--close"
						aria-label="Close"
					>
						×
					</button>
				</div>
			</div>
		</div>

		<!-- dropdown root -->
		<div id="menubar-dropdown-root"></div>

		<div class="app-shell">
			<aside id="sidebar" class="sidebar-host"></aside>

			<div class="content-shell">
				<div id="tabbar" class="tabbar"></div>
				<main id="main-content" class="content-host"></main>
			</div>
		</div>

		<script type="module" src="../renderer.js"></script>

		<script>
			(async () => {
				const current = await window.theme.get();
				document.documentElement.dataset.theme = current;
			})();
		</script>
	</body>

	<template id="tpl-welcome">
		<div class="welcome">
			<div class="welcome__hero">
				<div class="welcome__title">Welcome to EasyCSV</div>
				<div class="welcome__subtitle">
					Open a folder or file to get started.
				</div>
			</div>

			<div class="welcome__grid">
				<div class="welcome__card">
					<div class="welcome__card-title">Get Started</div>
					<div class="welcome__actions">
						<button data-action="new-file">New File</button>
						<button data-action="open-file">Open File</button>
						<button data-action="open-folder">Open Folder</button>
					</div>
				</div>

				<div class="welcome__card">
					<div class="welcome__card-title">Recent Projects</div>
					<div class="welcome__recent" data-role="recent-list"></div>
				</div>
			</div>
		</div>
	</template>

	<template id="tpl-sidebar">
		<div class="sidebar">
			<div class="sidebar__header">
				<div class="sidebar__title">File Tree</div>
				<div class="sidebar__actions">
					<button
						class="sidebar__icon-btn"
						type="button"
						data-action="new-file"
						title="New File"
						aria-label="New File"
					>
						<span
							class="material-symbols-rounded"
							aria-hidden="true"
							>note_add</span
						>
					</button>
					<button
						class="sidebar__icon-btn"
						type="button"
						data-action="open-project"
						title="Open Folder"
						aria-label="Open Folder"
					>
						<span
							class="material-symbols-rounded"
							aria-hidden="true"
							>create_new_folder</span
						>
					</button>
				</div>
			</div>

			<div class="sidebar__tree"></div>
		</div>
	</template>

	<template id="tpl-tree-row">
		<div class="tree-row">
			<span class="tree-row__lines" aria-hidden="true"></span>
			<span class="tree-row__arrow"></span>
			<span
				class="tree-row__icon material-symbols-rounded"
				aria-hidden="true"
			></span>
			<span class="tree-row__label"></span>
			<span class="tree-row__dirty" aria-hidden="true"></span>
		</div>
	</template>

	<template id="tpl-file-editor">
		<div class="editor">
			<div class="editor__header">
				<span class="editor__title"></span>
				<span class="editor__dirty" aria-hidden="true"></span>
				<button data-action="save">Save</button>
			</div>
			<textarea class="editor__ta" spellcheck="false"></textarea>
			<div class="editor__status"></div>
		</div>
	</template>
</html>
